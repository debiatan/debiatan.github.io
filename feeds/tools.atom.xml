<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Transition Dreams</title><link href="http://blog.debiatan.net/" rel="alternate"></link><link href="http://blog.debiatan.net/feeds/tools.atom.xml" rel="self"></link><id>http://blog.debiatan.net/</id><updated>2015-03-13T13:00:00+01:00</updated><entry><title>Five weeks of Handmade Hero</title><link href="http://blog.debiatan.net/five-weeks-of-handmade-hero.html" rel="alternate"></link><updated>2015-03-13T13:00:00+01:00</updated><author><name>Miguel Lech贸n</name></author><id>tag:blog.debiatan.net,2015-03-13:five-weeks-of-handmade-hero.html</id><summary type="html">&lt;p&gt;You may be aware that Barcelona holds a couple dozen Mobile World Congresses a year. However, you probably ignore that there are other technological meetings in Barcelona that far surpass the MWC by any metric you can think of. The &lt;a class="reference external" href="http://www.qidv.org/"&gt;QIDV&lt;/a&gt; (&lt;em&gt;Quedadas informales de desarrollo de videojuegos&lt;/em&gt;, Meetups about Game Development) are the most prominent example.&lt;/p&gt;
&lt;p&gt;For the tenth edition of these gatherings, I decided to give a talk to raise awareness of Casey Muratori's &lt;a class="reference external" href="https://handmadehero.org/"&gt;Handmade Hero&lt;/a&gt; project. I tried to summarize the highlights of the first five weeks in just fifteen minutes, explaining mainly the architectural decisions that support the live code editing capabilities of his platform layer.&lt;/p&gt;
&lt;p&gt;If you couldn't come but understand Spanish, I invite you to take a look at the recording of the session:&lt;/p&gt;
&lt;p&gt;Here's just the fun part (the demo) at the end:&lt;/p&gt;
&lt;div class="flex-video widescreen" style="margin: 0 auto;text-align:center;"&gt;
&lt;iframe src="https://www.youtube.com/embed/0vHt8qBOumc?start=758&amp;feature=oembed" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;And here's the whole thing:&lt;/p&gt;
&lt;div class="flex-video widescreen" style="margin: 0 auto;text-align:center;"&gt;
&lt;iframe src="https://www.youtube.com/embed/0vHt8qBOumc?start=228&amp;feature=oembed" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;If you don't feel satisfied by my bare bones explanation of the technical details, please resort to this &lt;a class="reference external" href="http://nullprogram.com/blog/2014/12/23/"&gt;nicely written post about the subject&lt;/a&gt;. If that still doesn't do the trick, you can always watch &lt;a class="reference external" href="https://youtu.be/oijEnriqqcs"&gt;the original Handmade Hero video&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;
</summary><category term="games"></category><category term="handmade_hero"></category><category term="QIDV"></category></entry><entry><title>Oscilloscope</title><link href="http://blog.debiatan.net/oscilloscope.html" rel="alternate"></link><updated>2014-11-25T18:00:00+01:00</updated><author><name>Miguel Lech贸n</name></author><id>tag:blog.debiatan.net,2014-11-25:oscilloscope.html</id><summary type="html">&lt;p&gt;It seems that building an oscilloscope on top of an Arduino board is some sort of rite of passage. Do a &lt;a class="reference external" href="https://duckduckgo.com/?q=arduino+oscilloscope"&gt;duckduckgo&lt;/a&gt; search and you will see that all the good names for this kind of project are already taken, so I have decided to name mine just &lt;em&gt;oscilloscope&lt;/em&gt;. In my defense, I'll say that I have written mine because I needed the most basic of oscilloscopes and it's just easier to build one from scratch than to adapt some already existing code.&lt;/p&gt;
&lt;p&gt;I've written my oscilloscope code it in order to inspect a single-channel periodic signal with a frequency close to 250 Hz. My first trivial attempt at the task already recorded the signal at 5 kHz and transmitted it over USB without the need to buffer data in the RAM of the microcontroller, so I haven't bothered speeding it up.&lt;/p&gt;
&lt;p&gt;The main bottleneck in my case is the serial transmission. Trying to collect more than 5800 samples per second will likely result in the loss of some of them. I've written some extra code that checks for missing samples, but it never detects problems at 5 kHz and, frankly, I'm OK with twenty samples per cycle.&lt;/p&gt;
&lt;p&gt;All in all, putting together the &lt;tt class="docutils literal"&gt;C&lt;/tt&gt; firmware and the &lt;tt class="docutils literal"&gt;Python&lt;/tt&gt; client, the project takes less than 130 lines. The program that checks for periodicity, finds the frequency and aligns the cycles to display them adds 90 extra lines. The output of this program looks like this:&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="Jiggling periodic wave" src="images/oscilloscope.gif" style="width: 406.0px; height: 306.0px;" /&gt;
&lt;p class="caption"&gt;Visualization of several cycles of a PWM signal at 250 Hz after going through a simple RC circuit.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Here's the &lt;a class="reference external" href="https://github.com/debiatan/oscilloscope"&gt;link to the github repository&lt;/a&gt;.&lt;/p&gt;
</summary><category term="arduino"></category><category term="oscilloscope"></category></entry><entry><title>Unit-Test-Based Programming</title><link href="http://blog.debiatan.net/utbp.html" rel="alternate"></link><updated>2014-04-01T10:00:00+02:00</updated><author><name>Miguel Lech贸n</name></author><id>tag:blog.debiatan.net,2014-04-01:utbp.html</id><summary type="html">&lt;p&gt;UTBP is a new subparadigm of Declarative Programming, in which code is generated from a description of its intended behavior, specified through unit tests. This work was presented at &lt;a class="reference external" href="http://www.sigbovik.org/2014/"&gt;SIGBOVIK 2014&lt;/a&gt; and received the &lt;em&gt;Most Frighteningly Like Real Research&lt;/em&gt; Award.&lt;/p&gt;
&lt;p&gt;For an in-depth tour of UTBP, you can check &lt;a class="reference external" href="https://github.com/debiatan/utbp/blob/master/doc/article.pdf"&gt;the article&lt;/a&gt; and browse the &lt;a class="reference external" href="https://github.com/debiatan/utbp"&gt;associated GitHub repository&lt;/a&gt;. If you prefer a light introduction, you can choose between two versions of the same video. This one is dubbed:&lt;/p&gt;
&lt;div class="flex-video widescreen" style="margin: 0 auto;text-align:center;"&gt;
&lt;iframe src="//player.vimeo.com/video/89179353" frameborder="0" title="Unit-Test-Based Programming -- English dubbing" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;This one is subbed:&lt;/p&gt;
&lt;div class="flex-video widescreen" style="margin: 0 auto;text-align:center;"&gt;
&lt;iframe src="//player.vimeo.com/video/89182858" frameborder="0" title="Unit-Test-Based Programming -- English subtitles" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
</summary><category term="unit tests"></category><category term="SIGBOVIK"></category><category term="automatic programming"></category></entry><entry><title>xrobot</title><link href="http://blog.debiatan.net/xrobot.html" rel="alternate"></link><updated>2014-01-02T10:00:00+01:00</updated><author><name>Miguel Lech贸n</name></author><id>tag:blog.debiatan.net,2014-01-02:xrobot.html</id><summary type="html">&lt;p&gt;Every once in a while, I need to step outside the command line. Sometimes I'm even forced to interact with &lt;em&gt;deaf&lt;/em&gt; graphical programs, those that do not listen to standard input or a meager HTTP port. In those desperate times, were it not for tools such as &lt;a class="reference external" href="http://xautomation.sf.net/"&gt;XAUT&lt;/a&gt; or &lt;a class="reference external" href="http://www.semicomplete.com/blog/projects/xdotool/"&gt;xdotool&lt;/a&gt;, I would have to type and click outside of &lt;tt class="docutils literal"&gt;VIM&lt;/tt&gt;, like cavemen probably did.&lt;/p&gt;
&lt;p&gt;Those two little programs are enough to make me happy when confronted with an X11 server. However, my computer, of a more whimsical nature, is reluctant to execute binaries other than a Python interpreter (like any other well-meaning general-purpose device assembled during the 21st century, really). That is why I have decided to write the simplest Python library I could think of that is able to:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Find out the position of the mouse pointer&lt;/li&gt;
&lt;li&gt;Move the mouse pointer around the screen&lt;/li&gt;
&lt;li&gt;Press and release mouse buttons&lt;/li&gt;
&lt;li&gt;Press and release keys in the keyboard&lt;/li&gt;
&lt;li&gt;Capture the screen&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;xrobot&lt;/tt&gt; library is lean, simple and Python[23]-compliant. It is just a wrapper around functions defined inside &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;python-xlib&lt;/span&gt;&lt;/tt&gt;. Since Xlib screen capture is painfully slow, the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;python-gtk&lt;/span&gt;&lt;/tt&gt; bindings are used instead, if present. I have decided to return images as &lt;tt class="docutils literal"&gt;numpy&lt;/tt&gt; arrays for my convenience; if you find that dependency unbearable, you can root it out easily from the code.&lt;/p&gt;
&lt;div class="flex-video widescreen" style="margin: 0 auto;text-align:center;"&gt;
&lt;iframe src="//player.vimeo.com/video/83220240" frameborder="0" title="5000 clicks" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;
&lt;p class="caption-text"&gt;Here's me, at five hundred clicks/second.&lt;/p&gt;
&lt;p&gt;I leave you with a &lt;a class="reference external" href="https://github.com/debiatan/xrobot"&gt;link to the xrobot github repository&lt;/a&gt; and some sample code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;xrobot&lt;/span&gt;

&lt;span class="n"&gt;xr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;xrobot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;XRobot&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;xr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;robot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;XRobot&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mouse_pos&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Current mouse position: x =&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;y =&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;              &lt;span class="c"&gt;# Press and release &amp;#39;a&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key_down&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;comma&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;     &lt;span class="c"&gt;# Press &amp;#39;,&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key_up&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;comma&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;       &lt;span class="c"&gt;# Release &amp;#39;,&amp;#39;&lt;/span&gt;

&lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;screen_resolution&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Screen width:&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;width&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;Screen height:&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;height&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;img&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;robot&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;capture_screen&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pylab&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pl&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;pl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</summary><category term="xrobot"></category></entry></feed>